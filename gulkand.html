<!DOCTYPE html>
<html>
<head>
  <title>Gulkund – R-Mart</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header class="main-header">
    <div class="container header-flex">
        <div class="logo">
    		<a href="index.html">
        		<img src="RRVVKK LOGOOOOO.png" alt="R-Mart Logo">
    		</a>
   			<span>R-Mart</span>
		</div>

    <nav class="nav">
      <a href="index.html">Home</a>
      <a href="pickles.html">Pickles</a>
      <a href="comforter.html">Comforters</a>
      <a href="gulkand.html">Gulkand</a>
      <a href="rosewater.html">Rose Water</a>
      <a href="turmeric.html">Turmeric</a>
      <a href="saffron.html">Saffron</a>
    </nav>
  </div>
</header>


<!-- PAGE TITLE -->
<section class="category-hero">
  <div class="category-hero-content">
    <h1 class="category-title animate-words">Gulkand</h1>
    <p class="category-subtitle">
      Natural rose petal preserves made for cooling, digestion, and daily wellness.
    </p>
  </div>
</section>


<!-- PRODUCTS GRID -->
<section class="products container">
  <div class="product-grid" id="productGrid"></div>
</section>
<div id="footer-placeholder"></div>
<script src="script.js"></script>
<script src="products.js"></script>

<script>
  const grid = document.getElementById("productGrid");

  function slugify(name) {
    return name.toLowerCase().replace(/[^a-z0-9]+/g, "-");
  }

  
  const categoryName = "gulkand"; 

  const items = products.filter(p => p.category === categoryName);

  if (items.length === 0) {
    grid.innerHTML = "<p>No products available.</p>";
  }

  items.slice(0, 2).forEach((p, index) => {

    const slug = slugify(p.name);
    const hasVariants = Array.isArray(p.variants) && p.variants.length > 0;
    const firstVariant = hasVariants
      ? p.variants[0]
      : { label: "Standard", price: 0 };

    grid.innerHTML += `
      <div class="product-card"
           onclick="openProduct('${slug}')"
           style="cursor:pointer;">

        <div class="product-image ${p.images?.length ? '' : 'empty'}">
                ${
                    p.images?.[0]
                    ? `<img 
                    src="${p.images[0]}" 
                    alt="${p.name}" 
                    loading="lazy">`
                    : `<span>Image coming soon</span>`
                }
            </div>

        <h3>${p.name}</h3>
        <p class="brand">${p.brand}</p>
        <p class="description">${p.description}</p>

        ${
          hasVariants
            ? `
              <select onclick="event.stopPropagation()"
                      onchange="updatePrice(${index}, this)">
                ${p.variants.map(v =>
                  `<option value="${v.price}">
                    ${v.label} – ₹${v.price}
                  </option>`
                ).join("")}
              </select>

              <p class="price" id="price-${index}">
                ₹${firstVariant.price}
              </p>
            `
            : `<p class="price">Price on request</p>`
        }

        <button onclick="
          event.stopPropagation();
          addToCart('${p.name}', ${firstVariant.price});
        ">
          Add to Cart
        </button>

      </div>
    `;
  });

  function updatePrice(index, select) {
    const priceEl = document.getElementById(`price-${index}`);
    if (priceEl) priceEl.innerText = "₹" + select.value;
  }

  function openProduct(slug) {
    window.location.href = `product.html?slug=${slug}`;
  }
</script>




</body>
</html>
