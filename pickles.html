<!DOCTYPE html>
<html>
<head>
  <title>Pickles – R-Mart</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- HEADER (same structure as index.html) -->
<header class="main-header">
  <div class="container header-flex">
    <div class="logo">R-Mart</div>
    <nav class="nav">
      <a href="index.html">Home</a>
      <a href="pickles.html" class="active">Pickles</a>
      <a href="comforter.html">Comforters</a>
      <a href="gulkand.html">Gulkand</a>
      <a href="rosewater.html">Rose Water</a>
    </nav>
  </div>
</header>

<!-- PAGE TITLE -->
<section class="container">
  <h1 class="section-title">Pickles</h1>
</section>

<!-- PRODUCTS GRID -->
<section class="products container">
  <div class="product-grid" id="productGrid"></div>
</section>

<script src="products.js"></script>

<script>
  const grid = document.getElementById("productGrid");

  products
    .filter(p => p.category === "pickles")
    .forEach((p, index) => {

      const firstVariant = p.variants[0];

      grid.innerHTML += `
        <div class="product-card">

          <div class="product-image"></div>

          <h3>${p.name}</h3>
          <p class="brand">${p.brand}</p>
          <p class="description">${p.description}</p>

          <select onchange="updatePrice(${index}, this)">
            ${p.variants.map(v =>
              `<option value="${v.price}">${v.label} – ₹${v.price}</option>`
            ).join("")}
          </select>

          <p class="price" id="price-${index}">
            ₹${firstVariant.price}
          </p>

          <button onclick="addVariantToCart(
            '${p.name}',
            '${firstVariant.label}',
            ${firstVariant.price}
          )">
            Add to Cart
          </button>

        </div>
      `;
    });

  function updatePrice(index, select) {
    document.getElementById(`price-${index}`).innerText =
      "₹" + select.value;
  }

  function addVariantToCart(name, variant, price) {
    addToCart(`${name} (${variant})`, price);
  }
</script>


</body>
</html>
